<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorial/building">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">Building the ink! smart contract | Sol2Ink</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/sol2ink/docs/tutorial/building"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Building the ink! smart contract | Sol2Ink"><meta data-rh="true" name="description" content="To build the ink! smart contract we will need cargo-contract. So if we satisfy this condition, we will navigate to the generated folder ERC20 and call cargo contract build. The contract will start building, we will wait for a while and..."><meta data-rh="true" property="og:description" content="To build the ink! smart contract we will need cargo-contract. So if we satisfy this condition, we will navigate to the generated folder ERC20 and call cargo contract build. The contract will start building, we will wait for a while and..."><link data-rh="true" rel="icon" href="/sol2ink/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/sol2ink/docs/tutorial/building"><link data-rh="true" rel="alternate" href="https://github.com/sol2ink/docs/tutorial/building" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/sol2ink/docs/tutorial/building" hreflang="x-default"><link rel="stylesheet" href="/sol2ink/docs/assets/css/styles.35c47159.css">
<link rel="preload" href="/sol2ink/docs/assets/js/runtime~main.a8aecb46.js" as="script">
<link rel="preload" href="/sol2ink/docs/assets/js/main.1a533eec.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sol2ink/docs/"><div class="navbar__logo"><img src="/sol2ink/docs/img/logo.svg" alt="Sol2Ink" class="themedImage_ToTc themedImage--light_HNdA"><img src="/sol2ink/docs/img/logo-dark.svg" alt="Sol2Ink" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://twitter.com/supercolony_vs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link"></a><a href="https://github.com/Supercolony-net/sol2ink" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sol2ink/docs/">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sol2ink/docs/capabilities">Capabilities</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/sol2ink/docs/tutorial/preparation">ERC-20 Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sol2ink/docs/tutorial/preparation">Preparation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sol2ink/docs/tutorial/building">Building the ink! smart contract</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/sol2ink/docs/how_it_works/parsing">How it works</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sol2ink/docs/how_it_works/parsing">Parsing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sol2ink/docs/how_it_works/parsing_interface">Parsing an interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sol2ink/docs/how_it_works/parsing_contract">Parsing a contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sol2ink/docs/how_it_works/parsing_functions">Parsing functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sol2ink/docs/how_it_works/parsing_expressions">Parsing expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sol2ink/docs/how_it_works/assembler">Assembling a contract</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sol2ink/docs/issues">Known issues</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sol2ink/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ERC-20 Tutorial</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Building the ink! smart contract</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Building the ink! smart contract</h1></header><p>To build the ink! smart contract we will need <a href="https://github.com/paritytech/cargo-contract" target="_blank" rel="noopener noreferrer">cargo-contract</a>. So if we satisfy this condition, we will navigate to the generated folder <code>ERC20</code> and call cargo contract build. The contract will start building, we will wait for a while and...</p><p>It fails! So let&#x27;s look at the issue.</p><p>First issue looks like this:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/43150707/183226415-17fa4232-9b38-4302-b8b8-4357c64ab740.png" alt="issue1" class="img_ev3q"></p><p>This issue was described before, Solidity expression is written as <code>type(uint256).max</code> and gets parsed as <code>u128.max</code>. The correct form is <code>u128::MAX</code>, so now with no issues, we will try to build it again.</p><p>And we failed again.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/43150707/183226417-73ec8940-0800-4e70-9bee-91421def1ba2.png" alt="issue2" class="img_ev3q"></p><p>These issues have the same reason, we want to return String, which can not be copied. Fixing both of these issues is simple, we will return the clones of these strings by calling <code>.clone()</code> on them. Now when we build, everything works! Congratulations!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="warnings">Warnings<a class="hash-link" href="#warnings" title="Direct link to heading">​</a></h3><p>You could have noticed some warnings. The cause of these warnings is that two of the functions have parameters, which are unused inside that function. This is not an issue, but if we want to remove these warnings, we will simply add <code>_</code> to the front of the names of these parameters, which will imply that those parameters are unused. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="more-things-to-notice">More things to notice<a class="hash-link" href="#more-things-to-notice" title="Direct link to heading">​</a></h3><p>There are still some things, which are not implemented in Sol2Ink (but definitely on the radar!). Let&#x27;s have a look at what was not parsed right in our ERC-20 file.
First thing we notice is a comment on line 240 saying <code>Please handle unchecked blocks manually</code>. Two lines above we see the same comment, but with inversed arrows, meaning that everything between these two comments is originally in the unchecked block. We don&#x27;t really need to care about this, so we can just remove the comments. We can find the same comment on lines 270, 298, 331 and 392 where we do the same thing. And that&#x27;s it! Now it is up to the developer to optimize the contract for Rust and ink!, but the dirty work is already done!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Supercolony-net/sol2ink/tree/main/docs/docs/docs/tutorial/building.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/sol2ink/docs/tutorial/preparation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Preparation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sol2ink/docs/how_it_works/parsing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Parsing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#warnings" class="table-of-contents__link toc-highlight">Warnings</a></li><li><a href="#more-things-to-notice" class="table-of-contents__link toc-highlight">More things to notice</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Sol2Ink, Supercolony.net.</div></div></div></footer></div>
<script src="/sol2ink/docs/assets/js/runtime~main.a8aecb46.js"></script>
<script src="/sol2ink/docs/assets/js/main.1a533eec.js"></script>
</body>
</html>